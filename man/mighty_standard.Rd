% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mighty_standard.R
\name{mighty_standard}
\alias{mighty_standard}
\title{Mighty standard component}
\description{
Class for a generic mighty standard component.

In the {mighty} framework, a "component" is a code template that processes
input data and returns a modified version with new columns or rows.
Standard components share a common structure and roxygen-like documentation pattern,
facilitating their use inside {mighty}.
}
\details{
Templates are \code{character} vectors of R code that are interpreted.
Dynamic use of variables etc. are supported using the \href{https://mustache.github.io}{mustache}
framework. Dynamic parameters are specified using \code{{{ variable_name }}}.
\subsection{Documentation}{

A template is required to be documented with the following tags similar to when
documenting functions using {roxygen2}:\tabular{lll}{
   Tag \tab Description \tab Example \cr
   \verb{@title} \tab Title of the component \tab \verb{@title My component} \cr
   \verb{@description} \tab Description of the component \tab \verb{@description text text} \cr
   \code{param} \tab Specifies input used to render the component \tab \verb{@param variable new var} \cr
   \verb{@type} \tab Specifies type: predecessor, derivation, row \tab \verb{@type derivation} \cr
   \verb{@depends} \tab Required input variable (repeat if several) \tab \verb{@depends .self USUBJID} \cr
   \verb{@outputs} \tab Variables created (repeat if several) \tab \verb{@outputs NEWVAR} \cr
}

}

\subsection{Conventions}{

A template for a standard components follow these conventions:
\enumerate{
\item The input data set is always called \code{.self}.
\item Additional parameters used to render the template into R code are documented with the \verb{@param} tag.
\item The template ends with creating a modified version of \code{.self}.
\item Template documented with the roxygen-like tags above
}
}

\subsection{Example}{

Below is an example of a mighty component template that
creates a new dynamic variable \code{variable} as twice the value
of the dynamic input \code{x}, that should already by in the input data set \code{.self}.

\if{html}{\out{<div class="sourceCode r">}}\preformatted{#' Title for my component
#' @description
#' A more in depth desciption of what is being done
#'
#' @param variable dynamic output if applicable
#' @param x some other input to the component
#' @type derivation
#' @depends .self \{\{ x \}\}
#' @outputs \{\{ variable \}\}
.self <- .self |>
  dplyr::mutate(
    \{\{ variable \}\} = 2 * \{\{ x \}\}
  )
}\if{html}{\out{</div>}}

When rendered with parameters \code{variable = "A"} and \code{x = "B"}
the rendered code used in mighty becomes:

\if{html}{\out{<div class="sourceCode r">}}\preformatted{.self <- .self |>
  dplyr::mutate(
    A = 2 * B
  )
}\if{html}{\out{</div>}}
}
}
\seealso{
\code{\link[=get_standard]{get_standard()}}, \link{mighty_standard_rendered}
}
\section{Active bindings}{
\if{html}{\out{<div class="r6-active-bindings">}}
\describe{
\item{\code{code}}{The code block of the component.}

\item{\code{template}}{The complete template.}

\item{\code{type}}{The type of the component. Can be one of predecessor, derivation, row.}

\item{\code{depends}}{List of the components dependencies.}

\item{\code{outputs}}{List of the new columns created by the component.}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-mighty_standard-new}{\code{mighty_standard$new()}}
\item \href{#method-mighty_standard-render}{\code{mighty_standard$render()}}
\item \href{#method-mighty_standard-document}{\code{mighty_standard$document()}}
\item \href{#method-mighty_standard-clone}{\code{mighty_standard$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mighty_standard-new"></a>}}
\if{latex}{\out{\hypertarget{method-mighty_standard-new}{}}}
\subsection{Method \code{new()}}{
Create standard component from template.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mighty_standard$new(template)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{template}}{\code{character} template code. See details for how to format.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mighty_standard-render"></a>}}
\if{latex}{\out{\hypertarget{method-mighty_standard-render}{}}}
\subsection{Method \code{render()}}{
Render component with supplied values.
Supports mustache templates and uses \code{whisker::whisker.render()}.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mighty_standard$render(...)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{...}}{Parameters used to render the template.
Must be named, and depends on the template.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Object of class \link{mighty_standard_rendered}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mighty_standard-document"></a>}}
\if{latex}{\out{\hypertarget{method-mighty_standard-document}{}}}
\subsection{Method \code{document()}}{
Create standard documentation.
\strong{TODO: Implement in #18}
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mighty_standard$document()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mighty_standard-clone"></a>}}
\if{latex}{\out{\hypertarget{method-mighty_standard-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{mighty_standard$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
